<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body class="d-flex justify-content-center align-items-center vh-100">
     <div id="h1_text text-center"></div>
    <div class="container mt-5 d-none">
        <!-- Center Content -->
        <div class="d-flexx justify-content-center">
           
            <br/>
<!--             <a class="" id="paste_me" href="hbapp://resolve?type=inbox&data=eyJ1c2VybmFtZSI6Ik5BS1JZVEciLCJzZWNyZXQiOiJkZjEyMjI2ZTBiMjE0ZGE2OGNmYTBmYTUyYTgzYTU4ZiIsImluc3RhbmNlSWQiOiIwMDAwMDAxNDI3MDMifQ"></a> -->

            <!-- <p>Redirecting you to the app...</p> -->
        </div>
    </div>
    <script type="text/javascript">
           window.onload = function() {
                function detectDevice() {
                        const userAgent = navigator.userAgent.toLowerCase();
                        const isMobile = /iphone|ipod|android|blackberry|mini|windows\sce|palm/i.test(userAgent);
                    
                        if (isMobile || window.innerWidth <= 768) {
                            console.log('User is on a phone');
                            return 'phone';
                        } else {
                            console.log('User is on a computer');
                            return 'computer';
                        }
                    }

               
                function getQueryParam(param) {
                    const urlParams = new URLSearchParams(window.location.search);
                    return urlParams.get(param);
                }
                
                const dataParam = getQueryParam('data') || 'default_data_here';
                const deepLink = `hbapp://resolve?type=inbox&data=${encodeURIComponent(dataParam)}`;
                try {
                    // Example: Navigating to a new URL
                    if(detectDevice() == "phone"){
                        window.location = deepLink;
                        window.close();
                    }else {
                        document.getElementById("h1_text").innerHTML = `<h4 class="text-center">Your device is not supported.</h4><br> Please try accessing this feature on a mobile device with the HB App installed.`
                    }
                    
                    // Other operations related to window.location
                } catch (error) {
                    console.error("An error occurred with window.location:", error);
                    // Optionally, handle the error here (e.g., show an alert, fallback URL, etc.)
                }
                // document.getElementById("paste_me").setAttribute("href", deepLink);
    
             }

    </script>
</body>
</html>

